

* [传送门](https://www.shymean.com/article/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0#2.2.%20DNS%E5%8D%8F%E8%AE%AE)
* [DNS详解，权威DNS，递归DNS，转发DNS，公共DNS](https://blog.csdn.net/yangfanacc/article/details/42099913)

DNS（Domain Name System）是因特网上的目录服务。主机都可以通过多种方式进行标识。主机名更容易被人们接受（www.foo.com），但是却没有提供多少该主机在因特网中的位置。实际上，主机通过使用IP地址来表明他自身的位置（IP地址后面提）。 也就是说主机既可以使用主机名来标识（人们更喜欢好记的主机名），也可以使用IP地址来标识（路由器更喜欢定长的有层次结构的IP）。因此需要一种进行主机名到IP地址转换的目录服务：DNS。

下面是简单的DNS工作流程：

* 浏览器从URL中抽取出主机名，并将主机名传递给DNS客户端（就运行在该主机上）
* DNS客户端向DNS服务器发送解析主机名的请求报文
* DNS服务器返回包含对应主机名的IP的响应报文，并被DNS客户端接受。
* DNS向浏览器提供相应主机名的IP地址。浏览器向位于该IP地址的服务器发送请求报文并建立TCP连接。

为了处理扩展性问题，DNS使用了大量的DNS服务器，并以层次方式组织这些服务器，通常包括：

* 根DNS服务器
* 顶级域服务器
* 权威DNS服务器
* 本地DNS服务器

没有任何一台DNS服务器保存了因特网上全部主机的IP映射。通过递归和迭代查询主机名对应的IP地址并返回给浏览器。 为了改善时延性能并减少DNS报文数量，DNS广发使用缓存技术。每当本地DNS服务器从某个DNS服务器接收到响应报文后，就将相应的主机名和IP地址保存起来，接下来的一段时间内接受到相应的解析请求就直接返回该IP地址，而不必再查询其他DNS服务器

一般来说有下面两种查询方式
* 迭代查询， A问B一个问题，B不知道答案说你可以问C，然后A再去问C，C推荐D，然后A继续问D，如此迭代…
* 递归查询，A问B一个问题，B问C，C问D… 然后D告诉C，C告诉B，B告诉A
