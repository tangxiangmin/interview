

## 作用域的规则
JS的函数作用域的含义是指，属于这个函数的全部变量都可以在整个函数的范围内使用
包含变量和函数在内的所有声明都会在任何代码执行前首先被处理。
* 函数声明会提升，但函数表达式不会
* 函数声明提升优先级大于变量声明提升    


## 描述一下作用域链
JS里面的函数作用域和块级作用域都可以进行嵌套，当对变量进行**右查询**时，如果在当前作用域中无法找到某个变量时，引擎就会在外层嵌套的作用域继续查找，直到找到该变量或者抵达全局作用域为止，否则会抛出**ReferenceError错误**。这种一层一层查找变量的方式就是作用域链
扩展：
* 左查询与右查询

## 谈谈你对于闭包的理解
JS里面的作用域是**词法作用域**，因此无论函数在哪里被调用，也无论它何时被调用，它的词法作用域都只由函数被声明时所处的位置决定。
对于不在函数内部声明却在函数内部使用的**自由变量**，同样遵循词法作用域的限制。当函数在其声明的词法作用域之外执行，仍旧可以访问函数声明时的词法作用域，此时就产生了闭包。

扩展：
* 常见的闭包陷阱，如循环中的闭包
* 闭包的使用，如封装模块

## this的指向
虽然JS采用的是词法作用域，但this并不是在编写时绑定的，而是是在函数运行时自动绑定到函数作用域的，它的上下文取决于函数调用时的各种条件。
* 函数是否在 new 中调用？如果是的话 this 绑定的是新创建的对象。 
* 函数是否通过 call、apply（显式绑定）或者 bind 硬绑定调用？如果是的话，this 绑定的是 指定的对象。
* 函数是否在某个上下文对象中调用（隐式绑定）？如果是的话，this 绑定的是那个上下文对象。
* 如果都不是的话，使用默认绑定。如果在严格模式下，就绑定到 undefined，否则绑定到 全局对象。

扩展：
* 箭头函数



## call和apply的相似和区别
* 都是改变函数内部的this指向
* call后面的参数均表示函数的单个参数，apply的第二个参数用数组包含函数的多个参数

## 使用箭头函数有哪些注意事项
当回调函数需要动态this的时候，就不能使用箭头函数，比如jQuery中的事件绑定函数等，在其实现内部会手动进行this绑定。

## 构造函数调用时发生了什么
* 创建了一个新对象
* 将新创建的空对象的隐式原型指向其构造函数的显示原型。
* 将this指向这个新对象
* 如果无返回值或者返回一个非对象值，则将新对象返回；如果返回值是一个新对象的话那么直接直接返回该对象。



### 函数中的arguments是数组吗？如何使用数组的方法

是一个类数组对象，
* 可以通过`Array.prototype.slice.call()`等方法使用数组方法
* 也可以将其转换成数组：`Array.from`、`[...arguments]`，然后再使用数组方法

### 如何编写代码实现构造函数不用new关键字会报错
使用`this instanceof XXX`判断
```js
function Vue (options) {
  if (!(this instanceof Vue)) {
    warn('Vue is a constructor and should be called with the `new` keyword')
  }
}

```